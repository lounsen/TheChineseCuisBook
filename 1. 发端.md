# 1 发端
计算机是演奏思想的乐器。
The computer is simply an instrument whose music is ideas.
——艾伦·凯（Alan Kay）

在讨论如何使用Cuis-Smalltalk语言和工具来构建软件的细节之前，我们需要了解那些塑造了Cuis-Smalltalk的视角、假设和意图，这同时也解释了Cuis-Smalltalk期望被以何种方式使用。我们不妨称之为Smalltalk编程哲学。

## 1.1 历史背景
关于软件的主流观点是，编程仅仅是给计算机一组指令来解决一些问题。在这种视角下，软件的唯一价值是获得一个结果，因此，软件的意义完全取决于其解决的问题。并且，由于编程活动本身不够有趣，这样的工作便被交给了具备专业技术知识，知道如何编写软件的专业群体，而世界上其他的人几乎不会注意到它。

我们所关注的是历史上众多“强有力的思想”中的一支，通过它们，我们得以用一种与众不同的方式认识软件开发。这些思想的历史沿革与“仅仅解决一个问题”的观点大相径庭。我们认为有必要重新回顾这段历史。

1945年，万尼瓦尔-布什（Vannevar Bush）在[《如我们所想》（As We May Think）](https://en.wikipedia.org/wiki/As_We_May_Think)一文中首次描述了关于自动信息处理器的清晰愿景，这种被称为Memex的机器可以扩展人类的共同记忆，帮助人们查询和分享知识——并在事实上将数据爆炸转化为信息爆炸，然后再转化为知识和认知的爆炸。

布什描述了开发Memex处理系统的可能性，这个可以帮助个人触及、发展和获取知识以造福全人类的系统启发了后来许多思想家和发明家，影响了个人计算机、网络、超文本、搜索引擎和知识库（如维基百科）的发展。
布什对开发一种Memex处理系统以帮助个人触及、发展和获取知识以造福人类的可能性的描述启发了许多后来在开发个人计算机、网络、超文本、搜索引擎和维基百科等知识库方面的思想家和发明家。
[2](这一发展路线中值得注意的早期里程碑是伊万-萨瑟兰的Sketch- Pad（1963年），兰德公司的平板电脑（1964年），以及道格-恩格尔巴特的NLS（"oN-Line System"）（1968年）。后来的发展包括泰德-尼尔森的Xanadu、苹果Macintosh、万维网、智能手机和平板电脑。)

随着计算机器从大型的、一次只能执行一个程序的主机发展到分时（timesharing）主机，再到微型计算机，另一个领域（教育领域，译者注）也随着各种解释人类如何学习的模型的提出得到了长足的发展[3](这里早期的知名人士有J.皮亚杰、J.布鲁纳、O.K.莫尔和S.帕珀特。)。人们开始谈论*人机共生  human-computer symbiosis*的问题。艾伦-凯（Alan Kay）设想，计算机软件和计算机编程可以成为一种表达思想和知识的新媒介。不能使用这种新媒介表达思想和知识的人将是新时代的新文盲。每个人都应学习如何使用这种新的数字媒介阅读和写作，并将拥有他们自己的动态图书——Dynabook来完成这一任务。[4](“A personal computer for children of all ages”(1972)http://www.vpri.org/pdf/hc_pers_comp_for_children.pdf) [5](  “Personal Dynamic Media”(1977) http://www.vpri.org/pdf/m1977001_dynamedia.pdf)

Alan Kay在论文《Smalltalk的早期历史》 "The Early History of Smalltalk "[6]( http://worrydream.com/EarlyHistoryOfSmalltalk)和 《什么是Dynabook》"What is a Dynabook? "[7](http://www.vpri.org/pdf/hc_what_Is_a_dynabook.pdf)对Smalltalk和Dynabook的历史发展进行了通俗易懂描述，他在论文中断言，*“预测未来的最好方法是发明它”*。要想实现Dynabook的愿景，需要硬件和软件的极大的进步和相辅相成的发展。开创性的开发工作起源于70年代的施乐PARC研究中心。第一个“临时”的Dynabook硬件是施乐Alto，它也通常被认为是第一台个人电脑。而Alto的软件系统就是Smalltalk。两者的设计都是以最终实现个人动态媒介（Personal Dynamic Media）和Dynabook为目标。Smalltalk-80是在施乐公司开发的最后一版Smalltalk。
1981年，Smalltalk的早期发明者之一Dan Ingalls写了一篇名为 "Smalltalk背后的设计原则 "[8](http://www.cs.virginia.edu/~evans/cs655/readings/smalltalk.html)的论文，其中的很多原则至今仍在指导我们。其中有两条：
**个人掌握。** 如果一个系统服务于创新精神，它必须完全为一个人所理解。
**响应式原则。** 能够被用户接触到的每一个组件都应该以一种不言自明的方式展示自己，以供观察和操作。
随着软件的商业化，如今的趋势是给人们提供由专业的软件开发人员编写的，封闭的， "打包的"应用程序。人们可以通过改变 "用户设置 "来自定义一个应用程序，但完全无法看到程序内部或对深层功能进行修改。
作为个人媒体素养理念的追随者，我们相信我们的系统软件应向每个人完全开放。能够以可阅读和可共享的方式编写软件，是理解和探索计算机系统的前提。
解决问题的思维方式可以从 “我能在现有条件下做些什么？”转变为 “我需要什么工具才能在此刻达成目标？”然后不断打造并升级你的工具。
以这种方式思考软件系统对我们十分重要。
正因如此，Cuis作为内核级的Smalltalk系统，仍然相当接近于Smalltalk-80。Cuis-Smalltalk的目标是成为一个小型的、一致的Smalltalk开发环境。单一的个体经过学习也可以完全理解整个系统。
我们在实验中不断改进Cuis，通过在基本系统的基础上不断移除所有不必要的组件来达成上述目标，与此同时，任何人都可以根据需要编写或添加功能。随着一个人对于软件核心理解越来越深，仅仅通过不断阅读和学习其他的附加特性即可掌握整个系统。
现代的开放软件环境十分复杂。Cuis尝试在保持目标方向的同时，让用户有能力探寻规律，而又不至于迷失在大量难以完全掌握的可能性中。
有人说，一个人通过建造世界来了解世界。熟练并有深度地使用新的媒介中需要时间和实践。
请与我们一起变得熟练，我们也期待着你与我们分享你的作品。
然而，我们还是要从一些技术性的操作开始。
俗话说 "千里之行，始于足下"[9](https://en.wikipedia.org/wiki/A_journey_of_a_thousand_miles_begins_with_a_single_step)。
让我们一起迈出第一步。


## 1.2 Cuis-Smalltalk的安装与配置
Cuis-Smalltalk既是一个环境也是一种在理想化的虚拟计算机上执行的编程语言。它由两个主要部分组成：将虚拟计算机概念化的Smalltalk虚拟机 *virtual machine*和表示这个计算机状态的镜像文件*image*。
虚拟机 *virtual machine*是一个可执行程序，运行在专用主机上（GNU/Linux、Mac OS X、Windows等）。它被称为Open Smalltalk虚拟机，或简称为Squeak VM。虚拟机种类丰富，能够适配不同对操作系统和CPU架构组合。因此，为英特尔架构的Windows编译的虚拟机将无法在ARM架构的Linux中工作。你需要根据计算机的操作系统和CPU架构选择相应的虚拟机。
镜像文件*image*是一个普通的文件，为虚拟机提供所有定义虚拟计算机状态的对象。类、方法、作为数字的类的实例、字符串、窗口、调试器--虚拟机内所有对象都会在虚拟机被保存时保持那一时刻对状态。只要有与系统架构相匹配的虚拟机，在一种操作系统和CPU架构上保存的镜像文件可以原封不动地运行在其他系统上。
虚拟机使得镜像文件无需重新编译即可在不同操作系统和不同CPU架构的计算机上重启，甚至所有打开的窗口位置都一摸一样（译者注：保存镜像文件就像为系统拍摄了一张快照，snapshot，重新载入镜像文件时所有打开文件和窗口都会恢复至保存时刻的状态）。这就是我们所理解的*可移植性*。

Cuis-Smalltalk的特别之处在于镜像文件中充满生命力的实体：类，以及类之间的继承关系。一般情况下Cuis-Smalltalk仅包含不到600个类的定义。
为了让您轻松入门，我们推荐您安装Cuis-University[10](https://sites.google.com/view/cuis-university/descargas)。在这里您可以找到适用于GNU/Linux、Mac OS X和Intel架构的Windows的软件包。捆绑包包括专用虚拟机和Cuis-Smalltalk的最新镜像，以及本书中出现的例子和练习，方便您在阅读时对照。当您阅读本书时，Cuis-Smalltalk可能已经发布了更新的版本，但您学到的东西应该很容易迁移。
在电脑上运行Cuis-Smalltalk，需要解压软件包并执行脚本--Windows执行run.bat/Linux执行run.sh；在OS X上则需要启动Squeak应用程序。当您启动Cuis-Smalltalk后，请阅读窗口中显示的信息。阅读完毕即可关闭这些窗口，并根据喜好调整Cuis-Smalltalk。
Cuis的大学分发版适用于大多数常见的平台，但总有一些平台的变体是我们无法测试的。如果您有问题，下面的两个信息来源可供参考。如果您没有遇到问题，那么可以暂时忽略。
- 目前的安装说明在GitHub Cuis仓库：https://github.com/Cuis-Smalltalk/Cuis-Smalltalk-Dev#setting-up-cuis-in-your-machine
- 在Cuis电子邮件组中询问我们 https://lists.cuis.st/mailman/listinfo/cuis-dev


